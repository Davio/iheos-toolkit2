<?xml version="1.0" encoding="UTF-8"?>
<TestPlan>
    <!-- Data for this test is loaded by xxxx-->
    <Test>ids-1001/SectionOne</Test>
    <TestStep id="imgretrieve">
        <Goal>Imaging Document Set Retrieve of a single image</Goal>
        <ExpectedStatus>Success</ExpectedStatus>
        <ImagingDocSetRetrieveTransaction>
            <MetadataFile>query.xml</MetadataFile>
            <Report name="$home$" section="Result">
                //*[local-name()='ExtrinsicObject']/@home
            </Report>
        </ImagingDocSetRetrieveTransaction>
    </TestStep>
    <TestStep id="homeValidation">
        <Goal>Home Community Id returned in metadata matches Responding Gateway configuration</Goal>
        <NullTransaction>
            <UseReport reportName="$testdata_home$" section="THIS" step="finddocs" useAs="submittedValue"/>
            <UseReport reportName="$home$"          section="THIS" step="finddocs" useAs="returnedValue"/>
            <Assertions>
                <Assert id="homeCommunityId">
                    'submittedValue' = 'returnedValue'
                </Assert>
            </Assertions>
        </NullTransaction>
    </TestStep>
</TestPlan>
